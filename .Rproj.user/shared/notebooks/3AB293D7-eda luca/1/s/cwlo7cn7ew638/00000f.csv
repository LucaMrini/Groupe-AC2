"0","library(tibble)"
"0","library(plotly)"
"0",""
"0","tv <- tibble("
"0","  `Comp` = c(""Premier League"", ""La Liga"", ""Bundesliga"", ""Serie A"", ""Ligue 1""),"
"0","  `Revenue` = c(3.518, 2.049, 1.460, 1.123, 6.87)"
"0",")"
"0",""
"0","# Calculate percentages for the pie chart"
"0","tv$percent <- tv$Revenue / sum(tv$Revenue) * 100"
"0",""
"0",""
"0","data <- data.frame(""Categorie"" = tv$Comp, ""X1960"" = tv$Revenue)"
"0",""
"0","colors <- c('rgb(211,94,96)', 'rgb(128,133,133)', 'rgb(144,103,167)', 'rgb(171,104,87)', 'rgb(114,147,203)')"
"0",""
"0","fig <- plot_ly(data, labels = ~Categorie, values = ~X1960, type = 'pie',"
"0","               textposition = 'inside',"
"0","               textinfo = 'label+percent',"
"0","               insidetextfont = list(color = '#FFFFFF'),"
"0","               hoverinfo = 'text',  "
"0","               text = ~paste(tv$Comp, '<br>', 'Revenue: $', X1960, 'B', '<br>', round(tv$percent, 2), '%'),"
"0","               marker = list(colors = colors,"
"0","                             line = list(color = '#FFFFFF', width = 1)),"
"0","               showlegend = FALSE)"
"0",""
"0","fig <- fig %>% layout(title = 'Tv revenue by league in 2021/2022',"
"0","                      xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),"
"0","                      yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))"
"0",""
"0","fig"
