"0","# Read data"
"0","data1 <- read_delim(""data/skill.csv"", delim = "";"", "
"0","                    escape_double = FALSE, "
"0","                    locale = locale(encoding = ""ISO-8859-1""), "
"0","                    trim_ws = TRUE, show_col_types = FALSE)"
"0","data_fifa_21 <- read_csv(""data/fifa21.csv"", show_col_types = FALSE)"
"0",""
"0","# Cleaning data1"
"0","data1 <- data1 %>%"
"0","  select(-Rk,everything()) %>%"
"0","  filter(MP >= 9, Min >= 405, str_detect(Pos, ""^F"")) %>%"
"0","  distinct(Player, .keep_all = TRUE)"
"0",""
"0","# Handling special characters in names"
"0","special_characters <- c(""\\?"", ""Edin D\\?eko"", ""Alfre\\? Finnbogason"", "
"0","                        ""Albert Gu\\?mundsson"", ""Josip Ili\\?i\\?"", "
"0","                        ""Krzysztof Pi\\?tek"", ""Przemys\\?aw P\\?acheta"")"
"0","replacements <- c(""ć"", ""Edin Džeko"", ""Alfreð Finnbogason"", "
"0","                  ""Albert Guðmundsson"", ""Josip Iličić"", "
"0","                  ""Krzysztof Piątek"", ""Przemysław Płacheta"")"
"0",""
"0","for (i in seq_along(special_characters)) {"
"0","  data1$Player <- str_replace_all(data1$Player, fixed(special_characters[i]), replacements[i])"
"0","}"
"0",""
"0","# Renaming column in data_fifa_21"
"0","data_fifa_21 <- data_fifa_21 %>%"
"0","  rename(Player = Name)"
"0",""
"0","# Joining data"
"0","suppressWarnings({data1 <- data1 %>%"
"0","  left_join(data_fifa_21 %>% select(Player, Height, Weight), by = ""Player"") %>%"
"0","  separate(Player, into = c(""Surname"", ""Name""), sep = "" "", extra = ""merge"") %>%"
"0","  left_join(data_fifa_21 %>% select(Player, Height, Weight), by = c(""Name"" = ""Player"")) %>%"
"0","  mutate("
"0","    Height = coalesce(Height.x, Height.y),"
"0","    Weight = coalesce(Weight.x, Weight.y)"
"0","  ) %>%"
"0","  select(-starts_with(""Height""), -starts_with(""Weight"")) %>%"
"0","  distinct(Surname, Name, .keep_all = TRUE)})  # Ensure unique combination for distinct"
"0",""
"0","# Filtering after ensuring columns exist"
"0","if (""Height"" %in% colnames(data1) && ""Weight"" %in% colnames(data1)) {"
"0","  data1 <- data1 %>%"
"0","    filter(!is.na(Height), !is.na(Weight)) %>%"
"0","    mutate(Player = paste(Surname, Name, sep = "" ""),"
"0","           Age = 2022 - Born,"
"0","           Height = ifelse("
"0","             Rk %in% c(1181, 1074, 2542, 1326, 21) ~ c(183, 187, 182, 200, 175),"
"0","             TRUE ~ Height"
"0","           ),"
"0","           Weight = ifelse("
"0","             Rk %in% c(1181, 1074, 2542, 1326, 21) ~ c(76, 74, 70, 83, 75),"
"0","             TRUE ~ Weight"
"0","           )"
"0","    ) %>%"
"0","    select(Player, Nation, Pos, Squad, Comp, Age, Born, Height, Weight, everything())"
"0",""
"0","  }"
"0",""
"0","reactable("
"0","  data1,"
"0","  searchable = TRUE,"
"0","  striped = TRUE,"
"0","  highlight = TRUE,"
"0","  bordered = TRUE,"
"0","  theme = reactableTheme("
"0","    borderColor = ""#dfe2e5"","
"0","    stripedColor = ""#f6f8fa"","
"0","    highlightColor = ""#f0f5f9"","
"0","    cellPadding = ""8px 12px"","
"0","    style = list("
"0","      fontFamily = ""-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif"","
"0","      "".rt-td"" = list("
"0","        ""min-width"" = ""200px"",  # Adjust the minimum width of cells"
"0","        ""max-width"" = ""400px""   # Adjust the maximum width of cells"
"0","      )"
"0","    ),"
"0","    searchInputStyle = list(width = ""100%"")"
"0","  )"
"0",")"
